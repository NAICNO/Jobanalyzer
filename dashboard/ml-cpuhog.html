<html>
  <head>
    <link rel=stylesheet type=text/css href="table-style.css"/>
    <title>ML nodes CPU hog dashboard</title>
  </head>

  <body>
    <h1>ML nodes CPU hogs</h1>
    
    <p>The following jobs have used significant CPU time without using
    any GPU time and are probably not appropriate to run on the ML
    systems.  The list is recomputed at noon and midnight and goes back four weeks.</p>

    <div id=report></div>

    <script src="dashboard.js"></script>
    <script>
      var file = "cpuhog-report.json";
      var fields = [{name: "Host", tag: "hostname"},
		    {name: "User", tag: "user"},
		    {name: "Job",  tag: "id"},
		    {name: "Command", tag:"cmd"},
		    {name: "First seen", tag:"started-on-or-before"},
		    {name: "Last seen", tag:"last-seen"},
		    {name: "CPU peak", tag:"cpu-peak"},
		    {name: "CPU% avg", tag:"rcpu-avg"},
		    {name: "CPU% peak", tag:"rcpu-peak"},
		    {name: "Mem% avg", tag:"rmem-avg"},
		    {name: "Mem% peak", tag:"rmem-peak"}]
      render_table(file, fields, document.getElementById("report"), cmp_string_fields("last-seen", true))
    </script>
  </body>
</html>
